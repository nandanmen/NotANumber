# Arcs

Last but certainly not least is the `A` or arc command.

The arc command lets you draw a **section of an ellipse** using the following (admittedly confusing) syntax:

```
A rx ry rotation large-arc-flag sweep-flag x y
```

As an example, the arc that you see here is drawn using the following commands:

<CommandListFromSource source="syntax" />

We'll dive into what each of these values means in a moment, but first, try to change the controls in the sandbox to get a feel for how the arc command works.

---

## How Arcs Are Formed

<CommandListFromSource source="ellipse" />

Let's talk about the first and last pairs of the arc command: `(rx,ry)` and `(x,y)`. These points, along with the initial cursor position, determine the ellipse that the arc is drawn on.

To draw an arc, **the browser will take these three points and tries to find an ellipse that "fits"** — that is, an ellipse with radii `rx` and `ry` and with both of the points on its circumference.

Try changing the radius of the arc or the position of the endpoint in the sandbox. Notice that the ellipse will change to always fit the two points and the provided radii.

> This `(x,y)` pair is what confused me when I first learned the arc command. Intuitively, I would've thought that I'd need an angle to draw an arc, not an endpoint!

---

Of course, it's not always possible to find a matching ellipse. What happens in that case? Click the "Shrink Arc" button below and let's find out:

<ShrinkArcButton />

Notice that when the ellipse isn't big enough to fit the arc's points, the arc isn't affected — it still follows the ellipse's curve. **This suggests that the ellipse is implicitly _scaled_ to fit the arc!**

In the playground, this "scaled" ellipse is shown in light gray.

---

## X-Axis Rotation

<CommandListFromSource source="rotation" />

The next argument, `x-axis-rotation`, is thankfully not as tricky. As you might expect, this value rotates the ellipse around its `x`, or horizontal, axis.

The best way to get a feel of this argument is to play around with it, so try changing the value in the sandbox to see how it affects the arc.

---

## Large Arc and Sweep Flags

<CommandListFromSource source="flags" />

The next two arguments may look like numbers, but they're actually _flags_ — that is, they can only be `0` or `1`. While their official names are "large arc flag" and "sweep flag" respectively, **I prefer to call them the large arc and _clockwise_ flags instead**.

In the ellipse section, we said that the browser tries to find an ellipse that fits the arc's points and then draws the curve on that ellipse. What I _didn't_ mention was that there will always be **four possible curves** that can be drawn between any pair of points!

The large arc and clockwise (sweep) flags control which of these four curves is ultimately drawn.

---

Out of the four arcs that can be drawn between two points, two of the arcs are drawn _clockwise_ while the other two are drawn _counterclockwise_. **The `sweep` flag controls the direction the arc is drawn, with `0` meaning counterclockwise.**

> This is why I prefer to call the sweep flag the _clockwise_ flag; I don't even know what `sweep` is supposed to mean!

---

Once you've picked a direction, there are still two arcs left — one that's smaller than a semicircle, and one that's larger. **The `large-arc` flag controls which of these arcs is drawn, with `0` meaning the smaller arc.**

---

In short:

- `sweep` controls the direction of the arc, with `0` meaning the arc is drawn counterclockwise;
- `large-arc` controls the size of the chosen arc, with `0` meaning the smaller arc is picked.

---

## Summary

Here's the arc command in its entirety:

- The arc is a portion of an ellipse;
- The arc is drawn from the current cursor position to the `x` and `y` values;
- The `rx` and `ry` values control the size of the ellipse;
- The `x-axis-rotation` value rotates the ellipse around its x-axis;
- The `large-arc-flag` and `sweep-flag` values control which of the four possible arcs are drawn.

You can play around with the different fields in the sandbox to get a better feel of how they change the shape of the arc.

---

## Practice

Using _both_ curve commands and the other commands we've seen, trace over this rainy cloud:

```
M 10 20
c -10 -1 -10 -14 0 -15
q 6 -1 8 5
c 7 0 7 10 0 10
m -1.0 -2
v 6
m -2.0 -4.5
v 6
m -2.0 -6
v 6
m -2.0 -7.5
v 6
```
