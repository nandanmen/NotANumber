import { PageSection } from "./components/PageSection";
import { PathEditor } from "./components/PathEditor";
import { PageProvider } from "./components/PageProvider";
import { PageFooter } from "./components/PageFooter";
import {
  PageWrapper,
  ArticleWrapper,
  GraphWrapper,
} from "./components/PageWrapper";
import { ArcsVisual } from "./components/arcs";

<PageWrapper page="06-arcs" numSections={12}>

<ArticleWrapper>

<PageSection index={0}>

# Arcs

The arc, or `A` command, is the last of the SVG path commands we'll be looking at and, in my opinion, the least intuitive to use.

The syntax looks like this:

```
A rx ry x-axis-rotation large-arc-flag sweep-flag x y
```

It's certainly not easy to grasp, so let's start from the beginning.

</PageSection>

<PageSection index={1}>

## How Arcs Are Formed

**An arc is a portion of an ellipse.**

You use the `rx` and `ry` values to control the ellipse's size, and the `x` and `y` values to control where the arc ends on the canvas.

</PageSection>

<PageSection index={2}>

The arc command works by taking the following values:

1. The initial cursor position;
2. The `rx` and `ry` values;
3. The `x` and `y` values;

And then finding an ellipse that "matches" the given values — that is, an ellipse with both of the arc's points on its circumference and with radius `rx` and `ry`.

**Try changing the radius of the arc or the endpoint in the sandbox**. Notice that the ellipse will change to always fit the two points and the provided radii.

</PageSection>

<PageSection index={3}>

What happens when there _isn't_ a match?

We can make that happen by making the diameter smaller than the distance between the arc's points. **Try reducing the `rx` value to anything less than ten** and see what happens.

</PageSection>

<PageSection index={4}>

Notice that when the ellipse isn't big enough to fit the arc's points, the arc isn't affected — it still follows the ellipse's curve. This suggests that the ellipse is implicitly _scaled_ to fit the arc!

</PageSection>

<PageSection index={5}>

## X-Axis Rotation

Let's look at the next argument, `x-axis-rotation`. As you might expect, this value rotates the ellipse around its x (or horizontal) axis.

**Try changing the third argument of the arc command and notice how the ellipse rotates around.**

</PageSection>

<PageSection index={6}>

## Large Arc and Sweep Flags

For any given pair of points, there are actually _two_ ellipses that can be drawn to fit them. One leads to an arc drawn _clockwise_ and the other to an arc drawn _counterclockwise_.

</PageSection>

<PageSection index={7}>

And for any ellipse, there are two possible arcs that you can draw in them — again, one _clockwise_ and one _counterclockwise_.

</PageSection>

<PageSection index={8}>

This gives us a total of **four possible arcs** for any given pair of points! The `large-arc-flag` and `sweep-flag` arguments control which of these four arcs are drawn.

</PageSection>

<PageSection index={9}>

The only valid values for these flags are `0` and `1`, so it's best to think of them as booleans instead of numbers.

**Click on the arguments to toggle them and notice how the arc changes.** The way I remember which flag controls which arc is that the `large-arc-flag` controls the _size_ of the arc, and the `sweep-flag` controls the _direction_ of the arc (with `0` meaning counterclockwise).

</PageSection>

<PageSection index={10}>

## Summary

Here's the arc command in its entirety. In short:

1. The arc is a portion of an ellipse;
2. The arc is drawn from the current cursor position to the `x` and `y` values;
3. The `rx` and `ry` values control the size of the ellipse;
4. The `x-axis-rotation` value rotates the ellipse around its x-axis;
5. The `large-arc-flag` and `sweep-flag` values control which of the four possible arcs are drawn.

</PageSection>

<PageSection index={11}>

## Practice

Using _both_ curve commands and the other commands we've seen, trace over this rainy cloud:

<PathEditor />

</PageSection>

<PageSection index={12}>

```
M 10 20
c -10 -1 -10 -14 0 -15
q 6 -1 8 5
c 7 0 7 10 0 10
m -1.0 -2
v 6
m -2.0 -4.5
v 6
m -2.0 -6
v 6
m -2.0 -7.5
v 6
```

</PageSection>

<PageFooter />

</ArticleWrapper>

<GraphWrapper>
  <ArcsVisual />
</GraphWrapper>

</PageWrapper>
